#  SauceDemo E2E Test Automation

Proyecto de automatizaci√≥n de pruebas E2E para la pagina demo: SauceDemo utilizando Playwright con TypeScript y Page Object Model (POM).
Adem√°s se utiliza .env para manejo de data sensible. tambi√©n se agrega compatibilidad con reportes de Allure

## Descripci√≥n

Este proyecto automatiza el flujo completo de compra en la aplicaci√≥n [SauceDemo](https://www.saucedemo.com/), desde el login hasta la confirmaci√≥n de compra, utilizando selecci√≥n din√°mica de productos y validaciones robustas.

###  Caracter√≠sticas principales

-  **Selecci√≥n din√°mica de productos** - Los productos se extraen autom√°ticamente de la p√°gina web
-  **Page Object Model (POM)** - Arquitectura modular y mantenible
-  **TypeScript** - Tipado fuerte para mayor confiabilidad
-  **Validaciones robustas** - Verificaciones exhaustivas en cada paso
-  **Reportes detallados** - M√∫ltiples formatos de reportes disponibles. Reporte propio de Playwright + Trace
-  **Allure Reports** - Reportes avanzados con gr√°ficos y m√©tricas

##  Pasos para ejecuci√≥n desde 0

###  Prerrequisitos

- **Node.js** (versi√≥n 18 o superior)
- **Git** (opcional, para clonar el repositorio)
- **VS Code** (recomendado para desarrollo)

###  Instalaci√≥n

#### 1. Clonar o descargar el proyecto
```bash
# Si tienes Git instalado
git clone <url-del-repositorio> //TODO cambiar
cd reto_pichincha

# O simplemente descarga y extrae el ZIP del proyecto
```

#### 2. Instalar dependencias del proyecto
```bash
# Instalar todas las dependencias
npm install
```

#### 3. Instalar Playwright y navegadores
```bash
# Instalar Playwright CLI globalmente (opcional pero recomendado)
npm install -g @playwright/test

# Instalar los navegadores necesarios
npx playwright install

# Alternativamente, instalar solo navegadores espec√≠ficos
npx playwright install chromium firefox webkit
```

#### 4. Verificar la instalaci√≥n
```bash
# Verificar que Playwright est√° correctamente instalado
npx playwright --version
```

###  Configuraci√≥n

El proyecto incluye configuraci√≥n predefinida en `playwright.config.ts` con:
- M√∫ltiples navegadores (Chromium, Firefox, WebKit)
- Configuraci√≥n de timeouts optimizada
- Reportes en m√∫ltiples formatos
- Screenshots y videos en caso de fallos

##  Comandos de Ejecuci√≥n

### üì¶ **Scripts NPM Personalizados**

El proyecto incluye scripts predefinidos en `package.json` para facilitar la ejecuci√≥n:

```bash
# Ejecutar todas las pruebas (equivale a npx playwright test)
npm run test

# Ejecutar pruebas y generar reporte HTML autom√°ticamente
npm run test:report

# Generar reporte Allure ligero en un solo archivo
npm run allure:reportlite

# Generar reporte Allure completo y abrirlo autom√°ticamente
npm run allure:report
```

**üìã Detalles de los scripts:**

- **`npm run test`** - Ejecuta todas las pruebas usando Playwright
- **`npm run test:report`** - Ejecuta las pruebas, genera reporte HTML y lo abre autom√°ticamente
- **`npm run allure:reportlite`** - Genera un reporte Allure en un solo archivo (ideal para compartir)
- **`npm run allure:report`** - Genera reporte Allure completo en carpeta y lo abre en el navegador

###  Ejecuci√≥n B√°sica

```bash
# Ejecutar todas las pruebas
npx playwright test

# Ejecutar pruebas en modo headed (ver navegador)
npx playwright test --headed

# Ejecutar solo el test espec√≠fico de SauceDemo
npx playwright test tests/flujo_reto_tecnico.spec.ts

# Ejecutar con interfaz gr√°fica interactiva
npx playwright test --ui
```

###  Navegadores Espec√≠ficos

```bash
# Ejecutar solo en Chromium
npx playwright test --project=chromium

# Ejecutar solo en Firefox
npx playwright test --project=firefox

# Ejecutar solo en WebKit (Safari)
npx playwright test --project=webkit

# Ejecutar en todos los navegadores
npx playwright test --project=chromium --project=firefox --project=webkit
```

###  Reportes

####  Reporte HTML Nativo de Playwright
```bash
# Ejecutar con reporte HTML detallado
npx playwright test --reporter=html

# Ejecutar con reporte en l√≠nea simple
npx playwright test --reporter=line

# Ejecutar con m√∫ltiples reportes
npx playwright test --reporter=html,line

# Abrir el √∫ltimo reporte HTML generado
npx playwright show-report
```

####  Reportes Allure (Avanzados)

**Allure** proporciona reportes m√°s avanzados con gr√°ficos, m√©tricas detalladas y mejor visualizaci√≥n de resultados.

```bash
# ============ COMANDOS DIRECTOS ALTERNATIVOS ============
# Ejecutar pruebas y generar datos para Allure
npx playwright test --reporter=allure-playwright

# Generar reporte Allure sin instalar Allure localmente
allure generate --single-file allure-results

# Abrir reporte Allure ya generado
allure open allure-report

# Generar y servir reporte en una sola l√≠nea
allure serve allure-results
```

> **üí° Tip:** Se recomienda usar los scripts de npm (`npm run allure:reportlite`) 
> ya que simplifican el proceso.

** Caracter√≠sticas de Allure Reports:**
-  Gr√°ficos de tendencias y m√©tricas
-  Historial de ejecuciones
-  Detalles granulares de cada test
-  Screenshots autom√°ticos en fallos
-  Videos de ejecuci√≥n
-  An√°lisis de duraci√≥n y performance


## üìÅ Estructura del Proyecto

```
üì¶ reto_pichincha/
‚îú‚îÄ‚îÄ üìÇ src/
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ data/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ test-data.ts              # Datos de prueba centralizados
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ interfaces/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ user-data.interface.ts    # Interfaces TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ pages/                        # Page Object Model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ index.ts                  # Exportaciones centralizadas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ login.page.ts             # P√°gina de login
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ inventory.page.ts         # P√°gina de inventario
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ cart.page.ts              # P√°gina de carrito
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ checkout-information-step-one.page.ts  # Informaci√≥n checkout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ checkout-overview-step-two.page.ts     # Resumen checkout
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ checkout-complete.page.ts # Confirmaci√≥n final
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ utils/
‚îÇ       ‚îî‚îÄ‚îÄ üìÇ constants/
‚îÇ           ‚îú‚îÄ‚îÄ üìÑ index.ts              # Exportaciones de constantes
‚îÇ           ‚îî‚îÄ‚îÄ üìÑ messages.constants.ts # Constantes de mensajes
‚îú‚îÄ‚îÄ üìÇ tests/
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ helpers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ sauce-demo-fixture.ts     # Fixtures personalizadas
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ flujo_reto_tecnico.spec.ts    # Test principal E2E
‚îú‚îÄ‚îÄ üìÇ test-results/                     # Resultados de pruebas
‚îú‚îÄ‚îÄ üìÇ playwright-report/                # Reportes HTML nativos
‚îú‚îÄ‚îÄ üìÇ allure-results/                   # Datos para Allure
‚îú‚îÄ‚îÄ üìÇ allure-report/                    # Reportes Allure generados
‚îú‚îÄ‚îÄ üìÑ playwright.config.ts              # Configuraci√≥n Playwright
‚îú‚îÄ‚îÄ üìÑ package.json                      # Dependencias del proyecto
‚îî‚îÄ‚îÄ üìÑ README.md                         # Este archivo
```

##  Escenario de Prueba

###  Historia de Usuario
```gherkin
Feature: Flujo de compra en SauceDemo
  Como usuario de SauceDemo
  Quiero realizar un proceso de compra
  Para validar que el flujo E2E funciona correctamente

Scenario: Completar compra con 2 productos aleatorios
  Given el usuario se encuentra autenticado con credenciales v√°lidas
  When agrega 2 productos aleatorios al carrito de compra
  Then el contador del carrito deber√≠a reflejar la cantidad de productos agregados
  When completa el formulario de compra con datos aleatorios y finaliza la compra
  Then deber√≠a visualizar el mensaje de confirmaci√≥n "THANK YOU FOR YOUR ORDER"
```

###  Pasos del Test

1. ** Autenticaci√≥n** - Login con credenciales v√°lidas
2. ** Selecci√≥n de productos** - Agregar 2 productos aleatorios
3. ** Validaci√≥n de carrito** - Verificar productos agregados
4. ** Checkout informaci√≥n** - Completar datos personales
5. ** Revisi√≥n de pedido** - Validar resumen y totales
6. ** Confirmaci√≥n** - Finalizar compra y validar mensaje

##  Configuraci√≥n Avanzada

###  Variables de Entorno

Crea un archivo `.env` en la ra√≠z del proyecto:

> **‚ö†Ô∏è IMPORTANTE - Seguridad del archivo .env:**
> 
> Por efectos pr√°cticos y did√°cticos, el archivo `.env` se incluye en este repositorio. 
> Sin embargo, **en un caso realista y en proyectos de producci√≥n**, este archivo **NO se debe subir** 
> al repositorio y debe estar incluido en el archivo `.gitignore` para proteger informaci√≥n sensible 
> como credenciales, URLs de entornos privados, tokens de API, etc.
> 
> ```bash
> # Ejemplo de .gitignore para proyectos reales
> .env
> .env.production
> ```

##  Recursos Adicionales

- [ Documentaci√≥n oficial de Playwright](https://playwright.dev/)
- [ Gu√≠a de Page Object Model](https://playwright.dev/docs/pom)
- [ Configuraci√≥n avanzada](https://playwright.dev/docs/test-configuration)
- [ Mejores pr√°cticas](https://playwright.dev/docs/best-practices)